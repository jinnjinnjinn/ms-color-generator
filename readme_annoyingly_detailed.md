# MS Color Generator

<div align="center">

è©³ç´°ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã§ã™ã€AIãŒå‹æ‰‹ã«æ›¸ã„ã¦ã¾ã™ã€ã ã„ãŸã„ã‚ã£ã¦ã‚‹ã¨ã“ã‚ã¯ã™ã”ã„ã§ã™ã­ï¼


![MS Color Generator Logo](https://raw.githubusercontent.com/jinnjinnjinn/ms-color-generator/main/ico.png)

**ğŸ¨ ãƒ¬ã‚¤ãƒ¤ãƒ¼ç”»åƒã®å‹•çš„ã‚«ãƒ©ãƒ¼ãƒªãƒ³ã‚°ãƒ„ãƒ¼ãƒ«**

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![Gradio](https://img.shields.io/badge/Gradio-5.35+-orange.svg)](https://gradio.app)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Version](https://img.shields.io/badge/Version-v1.4.2_beta-red.svg)](https://github.com/jinnjinnjinn/ms-color-generator)

*ãƒ—ãƒ©ãƒ¢ãƒ‡ãƒ«ãƒ»ã‚¬ãƒ³ãƒ—ãƒ©ã®å¡—è£…è‰²è¨­è¨ˆã‚’ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã«ã‚µãƒãƒ¼ãƒˆ*

[ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](#ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ) | [ğŸ“– ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•) | [âš™ï¸ è¨­å®š](#è¨­å®šè©³ç´°) | [ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

</div>

---

## ğŸ“‹ ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [âœ¨ ä¸»ãªæ©Ÿèƒ½](#ä¸»ãªæ©Ÿèƒ½)
- [ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](#ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ)
- [ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ )
- [ğŸ“– ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [âš™ï¸ è¨­å®šè©³ç´°](#è¨­å®šè©³ç´°)
- [ğŸ¨ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆæ©Ÿèƒ½](#ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆæ©Ÿèƒ½)
- [ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³](#ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³)
- [ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](#ãƒ©ã‚¤ã‚»ãƒ³ã‚¹)

## æ¦‚è¦

MS Color Generatorã¯ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼åŒ–ã•ã‚ŒãŸPNGç”»åƒã®è‰²ã‚’å‹•çš„ã«å¤‰æ›´ã™ã‚‹ãŸã‚ã®é«˜æ©Ÿèƒ½ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ç‰¹ã«ã‚¬ãƒ³ãƒ—ãƒ©ãƒ»ãƒ—ãƒ©ãƒ¢ãƒ‡ãƒ«ã®å¡—è£…è‰²è¨­è¨ˆã«ç‰¹åŒ–ã—ã¦ãŠã‚Šã€è‰²å½©ç†è«–ã«åŸºã¥ã„ãŸã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆç”Ÿæˆæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

### ğŸ¯ ä¸»ãªç”¨é€”

- **ã‚¬ãƒ³ãƒ—ãƒ©ãƒ»ãƒ—ãƒ©ãƒ¢ãƒ‡ãƒ«å¡—è£…è¨­è¨ˆ**: MSï¼ˆãƒ¢ãƒ“ãƒ«ã‚¹ãƒ¼ãƒ„ï¼‰ãªã©ã®è¤‡æ•°ãƒ‘ãƒ¼ãƒ„ã®é…è‰²æ¤œè¨
- **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³**: ã‚¢ãƒ‹ãƒ¡ãƒ»ã‚²ãƒ¼ãƒ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è‰²å¤‰æ›´
- **UIãƒ‡ã‚¶ã‚¤ãƒ³**: ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãƒ»ã‚¢ãƒ—ãƒªã®ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ æ¤œè¨
- **ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ­ã‚´ãƒ»ã‚¤ãƒ©ã‚¹ãƒˆã®é…è‰²ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ

## âœ¨ ä¸»ãªæ©Ÿèƒ½

### ğŸ¨ å‹•çš„ã‚«ãƒ©ãƒ¼ãƒªãƒ³ã‚°æ©Ÿèƒ½
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è‰²å¤‰æ›´**: ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®è‰²ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å¤‰æ›´
- **ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†**: è¤‡æ•°ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’åŒä¸€è‰²ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã—ã¦ç®¡ç†
- **ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ç·¨é›†**: ç”»åƒã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç›´æ¥é¸æŠãƒ»ç·¨é›†

### ğŸ¤– ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ç”Ÿæˆ
- **6ã¤ã®ãƒ—ãƒªã‚»ãƒƒãƒˆ**: ãƒ“ãƒ“ãƒƒãƒ‰ã€ãƒšãƒ¼ãƒ«ã€ãƒ€ãƒ«ã€ã‚¢ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼ã€ãƒ©ã‚¤ãƒˆã‚°ãƒ¬ã‚¤ãƒƒã‚·ãƒ¥ã€ãƒ¢ãƒã‚¯ãƒ­
- **HSVåˆ¶å¾¡**: è‰²ç›¸ãƒ»å½©åº¦ãƒ»æ˜åº¦ã®è©³ç´°åˆ¶å¾¡
- **è‰²ç›¸è·é›¢åˆ¶å¾¡**: ç”Ÿæˆè‰²é–“ã®æœ€å°è·é›¢ã‚’æŒ‡å®š
- **ç­‰é–“éš”ç”Ÿæˆ**: è‰²ç›¸ç’°ä¸Šã«ç­‰é–“éš”ã§è‰²ã‚’é…ç½®

### ğŸ–¼ï¸ ãƒãƒ«ãƒãƒ‘ã‚¿ãƒ¼ãƒ³è¡¨ç¤º
- **4ãƒ‘ã‚¿ãƒ¼ãƒ³åŒæ™‚ç”Ÿæˆ**: ç•°ãªã‚‹é…è‰²ã‚’4ã¤åŒæ™‚ã«æ¯”è¼ƒ
- **ã‚®ãƒ£ãƒ©ãƒªãƒ¼è¡¨ç¤º**: æ¨ªä¸¦ã³ã§é…è‰²ã‚’ä¸€è¦§è¡¨ç¤º
- **ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯é¸æŠ**: ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‹ã‚‰é…è‰²ã‚’é¸æŠã—ã¦ãƒ¡ã‚¤ãƒ³è¡¨ç¤ºã«é©ç”¨

### ğŸŒˆ é«˜åº¦ãªã‚«ãƒ©ãƒ¼ãƒ„ãƒ¼ãƒ«
- **ç”»åƒã‹ã‚‰ã®è‰²æŠ½å‡º**: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒã‹ã‚‰ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚’æŠ½å‡º
- **K-Meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°**: ä¸»è¦è‰²ã®è‡ªå‹•æŠ½å‡º
- **è‰²ç›¸è£œå®Œ**: æŠ½å‡ºè‰²ã«èª¿å’Œã™ã‚‹è£œè‰²ã‚’è‡ªå‹•ç”Ÿæˆ
- **HSVä¸€æ‹¬èª¿æ•´**: å…¨è‰²ã®è‰²ç›¸ãƒ»å½©åº¦ãƒ»æ˜åº¦ã‚’ä¸€æ‹¬ã‚·ãƒ•ãƒˆ

### ğŸ’¾ ä¿å­˜ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½
- **ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä¿å­˜**: è‡ªå‹•ã§ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ããƒ•ã‚¡ã‚¤ãƒ«åã§ä¿å­˜
- **ç’°å¢ƒå¯¾å¿œ**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ»Hugging Face Spacesä¸¡å¯¾å¿œ
- **è¨­å®šä¿å­˜**: ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®šã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ï¼ˆå®Ÿè£…ã—ã¦ãªã„ï¼‰
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½**: ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ğŸ“‹ å‰ææ¡ä»¶

- **Python 3.8ä»¥ä¸Š**
- **4GBä»¥ä¸Šã®RAMæ¨å¥¨**ï¼ˆç„¡ãã¦ã‚‚è¡Œã‘ã‚‹ï¼ï¼‰
- **ãƒ¢ãƒ€ãƒ³ã‚¦ã‚§ãƒ–ãƒ–ãƒ©ã‚¦ã‚¶** (Chrome, Firefox, Safari, Edge)ï¼ˆä½•ãŒãƒ¢ãƒ€ãƒ³ãªã‚“ã ã‹ï¼‰

### ğŸ“¥ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. **ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³**
   ```bash
   git clone https://github.com/jinnjinnjinn/ms-color-generator.git
   cd ms-color-generator
   ```

2. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   ```bash
   pip install -r requirements.txt
   ```

3. **ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™**
   ```bash
   mkdir layer
   # layer1.png, layer2.png, layer3.png... ã‚’layerãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®
   ```

4. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•**
   ```bash
   python main.py
   ```

5. **ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹**
   - è‡ªå‹•ã§ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã¾ã™
   - ã¾ãŸã¯ `http://localhost:7860` ã«ã‚¢ã‚¯ã‚»ã‚¹

### ğŸ¯ 5åˆ†ã§ã§ãã‚‹åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. **ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ä½œæˆ**
   - é€æ˜èƒŒæ™¯ã®PNGç”»åƒã‚’ä½œæˆ
   - è‰²ã‚’å¤‰ãˆãŸã„éƒ¨åˆ†ã‚’**ãƒã‚¼ãƒ³ã‚¿è‰²(#ff00ff)**ã§å¡—ã‚Šã¤ã¶ã—
   - `layer/layer1.png`ã¨ã—ã¦ä¿å­˜
   - `layer/layer2.png`ã¨ã—ã¦ä¿å­˜
   - ä»¥ä¸‹åŒãƒ»ãƒ»ãƒ»

2. **ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰**
   ```
   # grouping.txt ã®ä¾‹
   1,2,3:#ff0000    # ãƒ¬ã‚¤ãƒ¤ãƒ¼1,2,3ã‚’èµ¤ã‚°ãƒ«ãƒ¼ãƒ—
   4,5:#00ff00      # ãƒ¬ã‚¤ãƒ¤ãƒ¼4,5ã‚’ç·‘ã‚°ãƒ«ãƒ¼ãƒ—
   ```

3. **å‹•ä½œç¢ºèª**
   - ã‚¢ãƒ—ãƒªèµ·å‹•å¾Œã€ã€Œãƒ“ãƒ“ãƒƒãƒ‰ã€ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã€Œç¾åœ¨ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§4é…è‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - 4ã¤ã®é…è‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
ms-color-generator/
â”œâ”€â”€ ğŸ¯ main.py                 # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ âš™ï¸ config.py              # çµ±åˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ ğŸ“Š models.py              # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®šç¾©
â”œâ”€â”€ ğŸ–¼ï¸ layer_manager.py       # ãƒ¬ã‚¤ãƒ¤ãƒ¼å‡¦ç†ã‚¨ãƒ³ã‚¸ãƒ³
â”œâ”€â”€ ğŸ¨ color_utils.py         # è‰²å‡¦ç†ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ ğŸ–¥ï¸ ui.py                  # ãƒ¡ã‚¤ãƒ³UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ ğŸ® ui_handlers.py         # ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”œâ”€â”€ ğŸ² ui_generators.py       # ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆå™¨
â”œâ”€â”€ ğŸ’¾ ui_state.py           # çŠ¶æ…‹ç®¡ç†
â”œâ”€â”€ ğŸ› ï¸ ui_utils.py           # UIãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ ğŸ›ï¸ presets.py            # ã‚«ãƒ©ãƒ¼ãƒ—ãƒªã‚»ãƒƒãƒˆå®šç¾©
â”œâ”€â”€ ğŸ“ layer/                # ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´
â”‚   â”œâ”€â”€ layer1.png
â”‚   â”œâ”€â”€ layer2.png
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“¤ output/               # ç”Ÿæˆç”»åƒä¿å­˜å…ˆ
â”œâ”€â”€ ğŸ“‹ grouping.txt         # ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®š
â”œâ”€â”€ ğŸ“„ requirements.txt     # Pythonä¾å­˜é–¢ä¿‚
â”œâ”€â”€ ğŸŒ app.py              # Hugging Face Spacesç”¨
â””â”€â”€ ğŸ“– README.md           # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

### ğŸ—‚ï¸ ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² | é‡è¦åº¦ |
|---------|------|--------|
| `main.py` | ã‚¢ãƒ—ãƒªèµ·å‹•ãƒ»åˆæœŸåŒ– | â­â­â­ |ï¼ˆmainã§èµ·å‹•ã£ã¦çã—ã„ï¼Ÿï¼‰
| `ui.py` | ãƒ¡ã‚¤ãƒ³UIãƒ»Color Extractor | â­â­â­ |
| `layer_manager.py` | ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆæˆãƒ»è‰²å‡¦ç† | â­â­â­ |
| `config.py` | å…¨è¨­å®šã®çµ±åˆç®¡ç† | â­â­ |
| `ui_generators.py` | ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ | â­â­ |
| `color_utils.py` | è‰²å¤‰æ›ãƒ»ç”Ÿæˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  | â­â­ |
| `grouping.txt` | ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®š | â­ |

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### ğŸ¨ åŸºæœ¬ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### 1ï¸âƒ£ ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™

```bash
# ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®å‘½åè¦å‰‡
layer/
â”œâ”€â”€ layer1.png    # ç¬¬1ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆä¾‹ï¼šèƒ´ä½“ï¼‰
â”œâ”€â”€ layer2.png    # ç¬¬2ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆä¾‹ï¼šé ­éƒ¨ï¼‰
â”œâ”€â”€ layer3.png    # ç¬¬3ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆä¾‹ï¼šæ­¦å™¨ï¼‰
â””â”€â”€ layer4.png    # ç¬¬4ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆä¾‹ï¼šã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼‰
```

**ğŸ¯ é‡è¦ãªæ³¨æ„äº‹é …:**
- **å¿…ãšãƒã‚¼ãƒ³ã‚¿è‰²(#ff00ff)** ã‚’è‰²å¤‰æ›´å¯¾è±¡ã¨ã—ã¦ä½¿ç”¨
- é€æ˜èƒŒæ™¯(RGBA PNG)ã§ä¿å­˜ï¼ˆã—ãªãã¦ã‚‚ã„ã„ã‚“ã ãªã“ã‚ŒãŒï¼‰
- ãƒ•ã‚¡ã‚¤ãƒ«åã¯ `layer[æ•°å­—].png` ã®å½¢å¼

#### 2ï¸âƒ£ ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®šã®ä½œæˆ

```bash
# grouping.txt ã®è©³ç´°è¨˜æ³•
# ãƒ¬ã‚¤ãƒ¤ãƒ¼ç•ªå·:åˆæœŸè‰²ã‚³ãƒ¼ãƒ‰

# ä¾‹1: ã‚¬ãƒ³ãƒ€ãƒ ã‚«ãƒ©ãƒ¼
1,5,6,7,8,9,12,18,19,21,22,23,24,26:#afb998  # ãƒ¡ã‚¤ãƒ³ï¼ˆç™½ç³»ï¼‰
2,16,17:#7a8268                               # ã‚µãƒ–1ï¼ˆé’ç³»ï¼‰
3,4,11,13,15:#424539                          # ã‚µãƒ–2ï¼ˆèµ¤ç³»ï¼‰
10,14,20,25:#d0d3c9                           # ã‚¢ã‚¯ã‚»ãƒ³ãƒˆï¼ˆé»„ç³»ï¼‰

# ä¾‹2: ã‚·ãƒ³ãƒ—ãƒ«è¨­å®š
1,2,3:#ff0000     # èµ¤ã‚°ãƒ«ãƒ¼ãƒ—
4,5:#00ff00       # ç·‘ã‚°ãƒ«ãƒ¼ãƒ—
6:#0000ff         # é’ã‚°ãƒ«ãƒ¼ãƒ—
```

#### 3ï¸âƒ£ è‰²ã®ç”Ÿæˆã¨èª¿æ•´

##### ğŸ² ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’ä½¿ç”¨ã—ãŸç”Ÿæˆ
```
1. ãƒ—ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆãƒ“ãƒ“ãƒƒãƒ‰ã€ãƒšãƒ¼ãƒ«ç­‰ï¼‰
2. ã€Œç¾åœ¨ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§4é…è‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. 4ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã§æ¯”è¼ƒ
4. æ°—ã«å…¥ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ
```

##### ğŸ”§ ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã®ç”Ÿæˆ
```
1. å½©åº¦åŸºæº–ãƒ»ç¯„å›²ã‚’èª¿æ•´ï¼ˆ0-100%ï¼‰
2. æ˜åº¦åŸºæº–ãƒ»ç¯„å›²ã‚’èª¿æ•´ï¼ˆ0-100%ï¼‰
3. è‰²ç›¸ä¸­å¿ƒãƒ»ç¯„å›²ã‚’èª¿æ•´ï¼ˆ0-360Â°ï¼‰
4. è‰²ç›¸ç­‰é–“éš”ç”Ÿæˆã‚’ON/OFF
5. æœ€å°è‰²ç›¸è·é›¢ã‚’è¨­å®šï¼ˆ0-180Â°ï¼‰
6. ã€Œç¾åœ¨ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§4é…è‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
```

#### 4ï¸âƒ£ æ‰‹å‹•èª¿æ•´

##### ğŸ¨ å€‹åˆ¥è‰²ã®èª¿æ•´
```
1. ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼ã§å€‹åˆ¥ã®è‰²ã‚’å¤‰æ›´ï¼ˆã§ãã¾ã™ï¼‰
2. HSVã‚·ãƒ•ãƒˆã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§å…¨è‰²ã‚’ä¸€æ‹¬èª¿æ•´ï¼ˆå…¨è‰²ã¨ã„ã†ã‹å…¨ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã„ã†ã‹å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰
3. ç”»åƒã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç›´æ¥é¸æŠï¼ˆã—ã¦ã€ãã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å¤‰æ›´ã—ãŸã‚Šåˆ¥ã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œã£ãŸã‚Šã§ãã‚‹ï¼ï¼‰
4. ã‚°ãƒ«ãƒ¼ãƒ—ã®å¤‰æ›´ãƒ»æ–°è¦ä½œæˆ
```

##### ğŸ–¼ï¸ ç”»åƒã‹ã‚‰ã®è‰²æŠ½å‡º
```
1. ã€Œç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ã«å‚è€ƒç”»åƒã‚’ãƒ‰ãƒ­ãƒƒãƒ—
2. è‡ªå‹•ã§è‰²ãŒæŠ½å‡ºãƒ»è¡¨ç¤ºã•ã‚Œã‚‹
3. ä½¿ç”¨ã—ãŸã„è‰²ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹
4. ã€ŒæŠ½å‡ºã—ãŸè‰²ã§4é…è‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
```

#### 5ï¸âƒ£ ä¿å­˜ã¨ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```
1. ã€Œãƒ¡ã‚¤ãƒ³è¡¨ç¤ºã‚’ä¿å­˜ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. output/ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãã§ä¿å­˜
3. Hugging Face Spacesç’°å¢ƒã§ã¯è‡ªå‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆã§ã¯ãªã„ãƒ»ãƒ»ãƒ»ã‚ã¨ã§æ”¹å–„ã™ã‚‹ï¼‰
```

### ğŸ® é«˜åº¦ãªæ©Ÿèƒ½

#### ğŸŒˆ HSVå¤‰åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç”Ÿæˆ

```python
# è‰²ç›¸é•ã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç”Ÿæˆ
1. ã€Œç¾åœ¨ã®è‰²ã®è‰²ç›¸é•ã„ã‚’4ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ç­‰é–“éš”ãƒ¢ãƒ¼ãƒ‰: -45Â°, -15Â°, +15Â°, +45Â°ã®å¤‰åŒ–
3. ãƒ©ãƒ³ãƒ€ãƒ ãƒ¢ãƒ¼ãƒ‰: Â±180Â°ç¯„å›²ã§ãƒ©ãƒ³ãƒ€ãƒ å¤‰åŒ–
```

#### ğŸ¯ ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç›´æ¥ç·¨é›†

```python
# ã‚¯ãƒªãƒƒã‚¯æ“ä½œã§ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ç·¨é›†
1. ãƒ¡ã‚¤ãƒ³ç”»åƒã®ä»»æ„ã®ç®‡æ‰€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãã®ãƒ”ã‚¯ã‚»ãƒ«ãŒå«ã¾ã‚Œã‚‹ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒè‡ªå‹•æ¤œå‡º
3. ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ›´ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ãŒè¡¨ç¤º
4. æ–°ã—ã„ã‚°ãƒ«ãƒ¼ãƒ—ã‚’é¸æŠã—ã¦å³åº§ã«åæ˜ ï¼ˆæ‰€å±ã‚°ãƒ«ãƒ¼ãƒ—ã®å¤‰æ›´ã­ï¼‰
```

#### ğŸ”„ ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ‡ã‚Šæ›¿ãˆ

```python
# ã‚®ãƒ£ãƒ©ãƒªãƒ¼é¸æŠã§ã®åˆ‡ã‚Šæ›¿ãˆ
1. 4ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‹ã‚‰ä»»æ„ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãƒ¡ã‚¤ãƒ³è¡¨ç¤ºãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹
3. ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼ã‚‚é¸æŠãƒ‘ã‚¿ãƒ¼ãƒ³ã«è‡ªå‹•æ›´æ–°
4. HSVã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚‚ãƒªã‚»ãƒƒãƒˆ
```

## âš™ï¸ è¨­å®šè©³ç´°

### ğŸ“‹ config.py ä¸»è¦è¨­å®š

#### ğŸ¨ è‰²é–¢é€£è¨­å®š
```python
# åŸºæœ¬è‰²è¨­å®š
TARGET_COLOR = (255, 0, 255)      # ç½®æ›å¯¾è±¡è‰²ï¼ˆãƒã‚¼ãƒ³ã‚¿ï¼‰
DEFAULT_GROUP_COLOR = "#aacf53"   # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚°ãƒ«ãƒ¼ãƒ—è‰²ï¼ˆãƒ¨ãƒ¢ã‚®è‰²ï¼‰ï¼ˆæ–°è¦ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆæ™‚ã®è‰²ï¼‰

# è‰²å‡¦ç†è¨­å®š
COLOR_SETTINGS = {
    "hot_pink": "#ff69b4",                    # æ–°ã‚°ãƒ«ãƒ¼ãƒ—ç”¨ãƒ”ãƒ³ã‚¯è‰²ï¼ˆæ–°è¦ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆæ™‚ã®è‰²ï¼‰
    "overlay_alpha": 0.5,                     # ãƒ¬ã‚¤ãƒ¤ãƒ¼é¸æŠæ™‚ã®é€æ˜åº¦
    "hue_display_precision": 0,               # è‰²ç›¸è¡¨ç¤ºç²¾åº¦
    "saturation_display_precision": 0,        # å½©åº¦è¡¨ç¤ºç²¾åº¦
    "brightness_display_precision": 0         # æ˜åº¦è¡¨ç¤ºç²¾åº¦
}
```

#### ğŸ–¥ï¸ UIè¨­å®š
```python
# ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨­å®š
UI_LAYOUT = {
    "main_content_scale": 5,          # ãƒ¡ã‚¤ãƒ³ç”»åƒã‚¨ãƒªã‚¢å¹…æ¯”ç‡
    "picker_control_scale": 5,        # ãƒ”ãƒƒã‚«ãƒ¼ã‚¨ãƒªã‚¢å¹…æ¯”ç‡
    "main_image_height": 480,         # ãƒ¡ã‚¤ãƒ³ç”»åƒé«˜ã•
    "pattern_gallery_height": 250,    # ã‚®ãƒ£ãƒ©ãƒªãƒ¼é«˜ã•
    "gallery_columns": 4,             # ã‚®ãƒ£ãƒ©ãƒªãƒ¼åˆ—æ•°
    "small_button_size": "sm",        # å°ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚º
    "large_button_size": "lg"         # å¤§ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚º
}
```

#### ğŸ² ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
```python
# HSVå¤‰åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³
HSV_VARIATION_PATTERNS = {
    "hue_equal_steps": [-45, -15, 15, 45],        # è‰²ç›¸ç­‰é–“éš”å¤‰åŒ–
    "saturation_equal_steps": [-30, -10, 10, 30], # å½©åº¦ç­‰é–“éš”å¤‰åŒ–
    "brightness_equal_steps": [-30, -10, 10, 30], # æ˜åº¦ç­‰é–“éš”å¤‰åŒ–
    "pattern_count": 4,                           # ç”Ÿæˆãƒ‘ã‚¿ãƒ¼ãƒ³æ•°
    "pattern_variation_retry": 10                 # é‡è¤‡å›é¿è©¦è¡Œæ•°
}
```

#### ğŸ› ï¸ ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
```python
# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­å®š
SYSTEM_SETTINGS = {
    "max_color_generation_attempts": 100,    # è‰²ç”Ÿæˆæœ€å¤§è©¦è¡Œæ•°
    "flag_reset_delay": 1.0,                 # ãƒ•ãƒ©ã‚°ãƒªã‚»ãƒƒãƒˆé…å»¶
    "thread_daemon_mode": True,              # ãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ãƒ¢ãƒ¼ãƒ‰
    "memory_cleanup_enabled": True           # ãƒ¡ãƒ¢ãƒªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
}
```

### ğŸ›ï¸ ãƒ—ãƒªã‚»ãƒƒãƒˆè©³ç´°è¨­å®š

#### presets.py ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
```python
# æ—¢å­˜ãƒ—ãƒªã‚»ãƒƒãƒˆã®æ‹¡å¼µä¾‹
COLOR_PRESETS["ã‚«ã‚¹ã‚¿ãƒ 1"] = ColorGenerationParams(
    saturation_base=70.0,      # å½©åº¦åŸºæº–70%
    saturation_range=10.0,     # å½©åº¦ç¯„å›²Â±10%
    brightness_base=80.0,      # æ˜åº¦åŸºæº–80%
    brightness_range=15.0,     # æ˜åº¦ç¯„å›²Â±15%
    hue_center=120.0,          # è‰²ç›¸ä¸­å¿ƒ120Â°ï¼ˆç·‘ç³»ï¼‰
    hue_range=90.0,            # è‰²ç›¸ç¯„å›²Â±90Â°
    color_count=4,             # ç”Ÿæˆè‰²æ•°4è‰²
    equal_hue_spacing=True,    # ç­‰é–“éš”ç”ŸæˆON
    min_hue_distance=45.0      # æœ€å°è‰²ç›¸è·é›¢45Â°
)
```

### ğŸ“ ãƒ•ã‚©ãƒ«ãƒ€ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
```python
# config.py ã§ã®ãƒ‘ã‚¹è¨­å®š
SAVE_DIR = "./output"         # ç”»åƒä¿å­˜å…ˆ
LAYER_DIR = "./layer"         # ãƒ¬ã‚¤ãƒ¤ãƒ¼èª­ã¿è¾¼ã¿å…ƒ
CONFIG_FILE = "grouping.txt"  # ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
BACKUP_DIR = "./oldpy"        # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å…ˆ

# ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¨­å®š
FILE_PREFIX = "composite"                    # ä¿å­˜ãƒ•ã‚¡ã‚¤ãƒ«æ¥é ­è¾
TIMESTAMP_FORMAT = "%Y%m%d_%H%M%S"          # ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—å½¢å¼
GROUP_NAME_FORMAT = "GROUP{i}"              # ã‚°ãƒ«ãƒ¼ãƒ—åå½¢å¼
```

## ğŸ¨ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆæ©Ÿèƒ½

### ğŸ–¼ï¸ Color Extractor è©³ç´°

#### K-Meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
```python
# è‡ªå‹•è‰²æŠ½å‡ºã®ä»•çµ„ã¿
1. ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒã‚’150x150ã«ãƒªã‚µã‚¤ã‚º
2. RGBç”»åƒã«å¤‰æ›
3. é»’è‰²ãƒ”ã‚¯ã‚»ãƒ«ã‚’é™¤å¤–
4. K-Meansã§ä¸»è¦è‰²ã‚’ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
5. ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚µã‚¤ã‚ºã§ã‚½ãƒ¼ãƒˆ
6. ä¸Šä½5è‰²ã‚’æŠ½å‡º
```

#### è‰²ç›¸è£œå®Œã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
```python
# è‰²ç›¸è£œå®Œã®æ¡ä»¶
- å½©åº¦30%ä»¥ä¸Šã®è‰²ã®ã¿å¯¾è±¡
- æ—¢å­˜è‰²ç›¸ã¨ã®è·é›¢60Â°ä»¥ä¸Š
- æœ€å¤§3è‰²ã¾ã§è£œå®Œ
- æ˜åº¦20%ä»¥ä¸Šã®è‰²ã®ã¿
```

#### æ‰‹å‹•è‰²è¿½åŠ 
```python
# ç”»åƒã‚¯ãƒªãƒƒã‚¯ã§ã®è‰²è¿½åŠ 
1. ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã‚¯ãƒªãƒƒã‚¯ä½ç½®ã®RGBå€¤ã‚’å–å¾—
3. æ—¢å­˜è‰²ã¨ã®å·®åˆ†ãƒã‚§ãƒƒã‚¯ï¼ˆé–¾å€¤10ï¼‰
4. é‡è¤‡ãŒãªã‘ã‚Œã°æ–°è‰²ã¨ã—ã¦è¿½åŠ 
5. è‰²é¸æŠUIã«è‡ªå‹•åæ˜ 
```

### ğŸ¨ è‰²æŠ½å‡ºã®æ´»ç”¨ä¾‹

#### 1ï¸âƒ£ å®Ÿæ©Ÿå‚è€ƒã‹ã‚‰ã®è‰²æŠ½å‡º
```
1. å®Ÿéš›ã®ã‚¬ãƒ³ãƒ—ãƒ©å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. ä¸»è¦è‰²ã‚’è‡ªå‹•æŠ½å‡º
3. æ°—ã«å…¥ã£ãŸè‰²ã ã‘ã‚’é¸æŠ
4. é…è‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç”Ÿæˆ
```

#### 2ï¸âƒ£ ã‚¢ãƒ‹ãƒ¡ãƒ»è¨­å®šç”»ã‹ã‚‰ã®è‰²æŠ½å‡º
```
1. ã‚¢ãƒ‹ãƒ¡ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è‰²ã‚’æŠ½å‡º
3. ã‚ªãƒªã‚¸ãƒŠãƒ«é…è‰²ã¨ã—ã¦ä¿å­˜
4. ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³å±•é–‹
```

#### 3ï¸âƒ£ è‡ªç„¶ãƒ»é¢¨æ™¯ã‹ã‚‰ã®è‰²æŠ½å‡º
```
1. è‡ªç„¶é¢¨æ™¯å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. èª¿å’Œã®ã¨ã‚ŒãŸè‰²åˆã„ã‚’æŠ½å‡º
3. è‡ªç„¶ç³»é…è‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç”Ÿæˆ
4. è¿·å½©ãƒ»ã‚¢ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼ç³»ã§å±•é–‹
```

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ğŸš¨ ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### âŒ ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„
```bash
# ç—‡çŠ¶
- "layerX.png ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ" ãŒè¡¨ç¤º

# åŸå› ã¨è§£æ±ºæ–¹æ³•
1. ãƒ•ã‚¡ã‚¤ãƒ«å‘½åã®ç¢ºèª
   Ã— layer_1.png, Layer1.png
   â—‹ layer1.png, layer2.png

2. ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®ç¢ºèª
   Ã— JPEG, GIF, BMP
   â—‹ PNG (RGBAæ¨å¥¨)

3. ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã®ç¢ºèª
   ms-color-generator/
   â””â”€â”€ layer/          â† ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ãŒå¿…è¦
       â”œâ”€â”€ layer1.png
       â””â”€â”€ layer2.png
```

#### ğŸ¨ è‰²ãŒå¤‰ã‚ã‚‰ãªã„
```bash
# ç—‡çŠ¶
- ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼ã‚’å¤‰æ›´ã—ã¦ã‚‚ç”»åƒã®è‰²ãŒå¤‰ã‚ã‚‰ãªã„

# åŸå› ã¨è§£æ±ºæ–¹æ³•
1. ã‚¿ãƒ¼ã‚²ãƒƒãƒˆè‰²ã®ç¢ºèª
   Ã— RGB(255, 0, 0)èµ¤è‰²
   â—‹ RGB(255, 0, 255)ãƒã‚¼ãƒ³ã‚¿è‰²

2. ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
   - ç”»åƒç·¨é›†ã‚½ãƒ•ãƒˆã§ãƒã‚¼ãƒ³ã‚¿è‰²ã®ä½¿ç”¨ã‚’ç¢ºèª
   - ã‚¹ãƒã‚¤ãƒˆãƒ„ãƒ¼ãƒ«ã§#ff00ffã‚’ç¢ºèª

3. ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®ç¢ºèª
   Ã— RGBå½¢å¼
   â—‹ RGBAå½¢å¼ï¼ˆé€æ˜åº¦å¯¾å¿œï¼‰
```

#### ğŸ’¾ ãƒ¡ãƒ¢ãƒªä¸è¶³ã‚¨ãƒ©ãƒ¼
```bash
# ç—‡çŠ¶
- ã‚¢ãƒ—ãƒªãŒçªç„¶çµ‚äº†ã™ã‚‹
- "ãƒ¡ãƒ¢ãƒªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ"

# è§£æ±ºæ–¹æ³•
1. ç”»åƒã‚µã‚¤ã‚ºã®ç¸®å°
   æ¨å¥¨: 1024x1024ä»¥ä¸‹

2. ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ã®å‰Šæ¸›
   æ¨å¥¨: 20ãƒ¬ã‚¤ãƒ¤ãƒ¼ä»¥ä¸‹

3. ã‚·ã‚¹ãƒ†ãƒ RAMã®ç¢ºèª
   æœ€ä½: 4GB
   æ¨å¥¨: 8GBä»¥ä¸Š

# config.py ã§ã®è¨­å®š
IMAGE_CACHE_SIZE = 25  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ50ã‹ã‚‰å‰Šæ¸›
MEMORY_CLEANUP_INTERVAL = 5  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ10ã‹ã‚‰çŸ­ç¸®
```

#### ğŸŒ ãƒ–ãƒ©ã‚¦ã‚¶é–¢é€£ã®å•é¡Œ
```bash
# ç—‡çŠ¶
- UIãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œãªã„
- ãƒœã‚¿ãƒ³ãŒåå¿œã—ãªã„

# è§£æ±ºæ–¹æ³•
1. ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢
   Chrome: Ctrl+Shift+Delete
   Firefox: Ctrl+Shift+Delete

2. JavaScriptã®æœ‰åŠ¹åŒ–ç¢ºèª
   è¨­å®š > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ > ã‚µã‚¤ãƒˆã®è¨­å®š

3. ãƒ–ãƒ©ã‚¦ã‚¶ã®æ›´æ–°
   Chrome 90+, Firefox 88+, Safari 14+, Edge 90+

4. ãƒãƒ¼ãƒˆç«¶åˆã®ç¢ºèª
   netstat -an | grep 7860
   # ä»–ã‚¢ãƒ—ãƒªãŒãƒãƒ¼ãƒˆä½¿ç”¨ä¸­ã®å ´åˆã¯çµ‚äº†
```

#### ğŸ”„ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ
```bash
# ç—‡çŠ¶
- è‰²å¤‰æ›´ã®åå¿œãŒé…ã„
- ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆã«æ™‚é–“ãŒã‹ã‹ã‚‹

# æœ€é©åŒ–è¨­å®š
# config.py
MAX_RETRY_ATTEMPTS = 50        # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ100ã‹ã‚‰å‰Šæ¸›
IMAGE_CACHE_SIZE = 25          # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºå‰Šæ¸›
MEMORY_CLEANUP_INTERVAL = 5    # é »ç¹ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

# ã‚·ã‚¹ãƒ†ãƒ æœ€é©åŒ–
1. ä¸è¦ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†
2. SSDã®ä½¿ç”¨ï¼ˆHDDã‚ˆã‚Šé«˜é€Ÿï¼‰
3. Pythonä»®æƒ³ç’°å¢ƒã®ä½¿ç”¨
```

### ğŸ› ï¸ é«˜åº¦ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ğŸ” ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹åŒ–
```python
# config.py ã§ãƒ‡ãƒãƒƒã‚°è¨­å®š
DEBUG_SETTINGS = {
    "enable_debug_prints": True,       # ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ON
    "debug_emoji_enabled": True,       # çµµæ–‡å­—è¡¨ç¤ºON
    "log_level": "DEBUG",             # è©³ç´°ãƒ­ã‚°
    "measure_performance": True,       # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
    "profile_memory_usage": True       # ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ç›£è¦–
}
```

#### ğŸ“Š ãƒ­ã‚°åˆ†æ
```bash
# å®Ÿè¡Œæ™‚ãƒ­ã‚°ã®ç¢ºèª
python main.py 2>&1 | tee debug.log

# é‡è¦ãªãƒ­ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³
âœ… [CONFIG] # è¨­å®šèª­ã¿è¾¼ã¿æˆåŠŸ
âŒ [ERROR]  # ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ
ğŸ” [DEBUG]  # ãƒ‡ãƒãƒƒã‚°æƒ…å ±
ğŸ¨ [COLOR]  # è‰²å‡¦ç†æƒ…å ±
ğŸ–¼ï¸ [IMAGE]  # ç”»åƒå‡¦ç†æƒ…å ±
```

#### ğŸ”§ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®å¾©
```bash
# grouping.txt ã®ä¿®å¾©
# ç ´æã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp grouping.txt grouping.txt.backup

# æœ€å°æ§‹æˆã§å†ä½œæˆ
echo "1,2,3:#ff0000" > grouping.txt
echo "4,5,6:#00ff00" >> grouping.txt

# ã‚¢ãƒ—ãƒªå†èµ·å‹•ã§ç¢ºèª
python main.py
```

## ğŸ”§ é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

#### ğŸ¯ è¨­è¨ˆæ€æƒ³
```
- ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ: æ©Ÿèƒ½åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆã¨ã„ã†ã‹ã»ã¼ã„ã„ãªã‚Šã§ã—ãŸï¼‰ï¼ˆæ ¹æœ¬çš„ãªé–“é•ã„ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼‰ï¼ˆåŠ©é•·çš„ã™ãã‚‹ï¼‰
- è¨­å®šã®çµ±åˆ: config.py ã§ã®ä¸€å…ƒç®¡ç†
- çŠ¶æ…‹ç®¡ç†: ui_state.py ã§ã®çŠ¶æ…‹åˆ†é›¢
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®é©åˆ‡ãªä¾‹å¤–å‡¦ç†
```

#### ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
```mermaid
graph TD
    A[main.py] --> B[ui.py]
    B --> C[layer_manager.py]
    C --> D[color_utils.py]
    B --> E[ui_handlers.py]
    E --> F[ui_generators.py]
    F --> G[ui_state.py]
    
    H[config.py] --> A
    H --> B
    H --> C
    H --> D
    H --> E
    H --> F
    
    I[presets.py] --> D
    J[models.py] --> C
    J --> D
```

### ğŸ› ï¸ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚¬ã‚¤ãƒ‰

#### ğŸ¨ æ–°ã—ã„ãƒ—ãƒªã‚»ãƒƒãƒˆã®è¿½åŠ 
```python
# presets.py ã«è¿½åŠ 
COLOR_PRESETS["æ˜¥è‰²"] = ColorGenerationParams(
    saturation_base=60.0,
    saturation_range=20.0,
    brightness_base=85.0,
    brightness_range=10.0,
    hue_center=90.0,     # ç·‘ç³»
    hue_range=120.0,
    color_count=4,
    equal_hue_spacing=False,
    min_hue_distance=30.0
)

# config.py ã®UI_CHOICESã«è¿½åŠ 
UI_CHOICES = {
    "preset_names": ["ãƒ€ãƒ«", "ãƒ©ã‚¤ãƒˆ ã‚°ãƒ¬ã‚¤ãƒƒã‚·ãƒ¥", "ãƒšãƒ¼ãƒ«", 
                     "ãƒ“ãƒ“ãƒƒãƒ‰", "ã‚¢ãƒ¼ã‚¹ ã‚«ãƒ©ãƒ¼", "ãƒ¢ãƒã‚¯ãƒ­", "æ˜¥è‰²"]
}
```

#### ğŸ–¼ï¸ æ–°ã—ã„ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå½¢å¼ã®è¿½åŠ 
```python
# ui_utils.py ã®do_saveé–¢æ•°ã‚’æ‹¡å¼µ
def do_save_custom_format(image, format_type="PNG"):
    """ã‚«ã‚¹ã‚¿ãƒ å½¢å¼ã§ã®ä¿å­˜"""
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    
    if format_type == "JPEG":
        filename = f"composite_{timestamp}.jpg"
        image.convert("RGB").save(filename, "JPEG", quality=95)
    elif format_type == "WEBP":
        filename = f"composite_{timestamp}.webp"
        image.save(filename, "WEBP", quality=95)
    
    return filename
```

#### ğŸ® æ–°ã—ã„UIè¦ç´ ã®è¿½åŠ 
```python
# ui.py ã«æ–°ã—ã„ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’è¿½åŠ 
def create_custom_controls():
    """ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®ä½œæˆ"""
    with gr.Group():
        gr.Markdown("### ã‚«ã‚¹ã‚¿ãƒ æ©Ÿèƒ½")
        
        custom_slider = gr.Slider(
            minimum=0, maximum=100, value=50,
            label="ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿"
        )
        
        custom_button = gr.Button(
            "ã‚«ã‚¹ã‚¿ãƒ å®Ÿè¡Œ", variant="secondary"
        )
        
    return custom_slider, custom_button
```


## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [MIT License](LICENSE) ã®ä¸‹ã§ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã™ã€‚

### ğŸ¨ è¬è¾

**æ¨¡å‹ãƒ»å¡—æ–™ãƒ¡ãƒ¼ã‚«ãƒ¼æ§˜ã¸ã®æ•¬æ„**

- **ç”°å®®æ¨¡å‹ (TAMIYA)**: 1948å¹´å‰µæ¥­ä»¥æ¥ã®ã€ŒFirst in Quality Around the Worldã€ã®ç²¾ç¥ã¨æ¨¡å‹æ–‡åŒ–ã¸ã®è²¢çŒ®
- **GSIã‚¯ãƒ¬ã‚ªã‚¹ (Mr. Color)**: ã‚¢ã‚¯ãƒªãƒ«ãƒ»ãƒ©ãƒƒã‚«ãƒ¼å¡—æ–™ã®é•·å¹´ã«ã‚ãŸã‚‹ç ”ç©¶é–‹ç™ºã¨å“è³ªå‘ä¸Š
- **ã‚¬ã‚¤ã‚¢ã‚«ãƒ©ãƒ¼**: ãƒ—ãƒ­ãƒ¢ãƒ‡ãƒ©ãƒ¼ã«æ”¯æŒã•ã‚Œã‚‹é«˜å“è³ªå¡—æ–™ã®æä¾›ã¨æ¥­ç•Œç™ºå±•ã¸ã®è²¢çŒ®

**ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»æŠ€è¡“ã¸ã®æ•¬æ„**

- **åŠ è—¤ä¸€å½Œ (ã‚«ãƒˆã‚­ãƒã‚¸ãƒ¡)**: ç‹¬è‡ªã®ãƒ¡ã‚«ãƒ‡ã‚¶ã‚¤ãƒ³ã¨ãƒ¢ãƒ‡ãƒªãƒ³ã‚°å“²å­¦ã«ã‚ˆã‚‹å¤šå¤§ãªå½±éŸ¿

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**

- [Gradio](https://gradio.app/) - ç›´æ„Ÿçš„ãªWebã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- [Pillow](https://pillow.readthedocs.io/) - å¼·åŠ›ãªç”»åƒå‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- [scikit-learn](https://scikit-learn.org/) - K-Meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
- [NumPy](https://numpy.org/) - é«˜é€Ÿæ•°å€¤è¨ˆç®—

---

<div align="center">

**ğŸ¨ MS Color Generator ã§ã€ã‚ãªãŸã®å‰µé€ åŠ›ã«è‰²ã‚’ä¸ãˆã‚ˆã†ï¼ ğŸ¨**

[â¬†ï¸ ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹](#ms-color-generator) | [ğŸš€ ä»Šã™ãå§‹ã‚ã‚‹](#ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ) | [ğŸ’¬ è³ªå•ãƒ»è¦æœ›](https://github.com/jinnjinnjinn/ms-color-generator/issues)

</div>